define(["jquery","qtype_omerocommon/moodle-forms-utils","qtype_omerocommon/answer-base","qtype_omerocommon/multilanguage-element","qtype_omerocommon/multilanguage-attoeditor","qtype_omerocommon/question-player-base"],function(a,b,c){function d(a){var b=a,c=b._config;b._image_viewer_controller.open(!0,function(){console.log("Question Player initialized!!!",c);var d=b._image_viewer_controller.getImageSize(),e=(d.width+d.height)/2*.0025;f.markers_size=e,console.log(e),b._image_viewer_controller.configureMarkingTool(f,0),a._image_viewer_controller.setNavigationLock(c.image_navigation_locked),c.correction_mode?(console.log("Answers: ",c.answers),showResults(b)):b._image_viewer_controller.showRoiShapes(c.visible_rois,!0),b.showFocusAreas()})}var e=jQuery,f={fill_color:"#ffffff",fill_alpha:"0.4",stroke_width:10};console.log("Initialized",this),M.qtypes=M.qtypes||{},M.qtypes.omeromultichoice=M.qtypes.omeromultichoice||{},M.qtypes.omeromultichoice.QuestionPlayerMultichoice=function(){M.qtypes.omerocommon.QuestionPlayerBase.call(this)},M.qtypes.omeromultichoice.QuestionPlayerMultichoice.prototype=new M.qtypes.omerocommon.QuestionPlayerBase,M.qtypes.omeromultichoice.QuestionPlayerMultichoice.prototype.constructor=M.qtypes.omeromultichoice.QuestionPlayerMultichoice,M.qtypes.omeromultichoice.QuestionPlayerMultichoice.prototype.parent=M.qtypes.omerocommon.QuestionPlayerBase.prototype;var g=M.qtypes.omeromultichoice.QuestionPlayerMultichoice.prototype;return g.initialize=function(a){var b=this;b.initialized?console.log("Already Initialized"):(this.parent.initialize.call(this,a),b._answer_input_name=a.answer_input_name,console.log("Setted the answer prefix",b._answer_input_name),e("#"+a.question_answer_container+" .restore-image-center-btn").click(function(){b._image_viewer_controller.updateViewFromProperties(a.image_properties)}),b.initialized=!0,console.log("Question multichoice player initialized!!!"),d(b))},M.qtypes.omeromultichoice.QuestionPlayerMultichoice.start=function(a){alert("Loading the correct module!!!"),e(document).ready(function(){var b=new M.qtypes.omeromultichoice.QuestionPlayerMultichoice;b.initialize(a)})},M.qtypes.omeromultichoice.QuestionPlayerMultichoice});